<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Havacılığa Giriş Soru Bankası</title>
    <style>
        /* CSS Kodları */
        :root {
            --primary-color: #007bff;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --text-color: #333;
            --bg-color: #f8f9fa;
        }

        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: var(--bg-color);
            color: var(--text-color);
        }

        .container {
            max-width: 900px;
            margin: auto;
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 25px;
            border-bottom: 2px solid #eee;
            padding-bottom: 15px;
        }

        /* Navigasyon ve Filtreleme Alanı */
        #control-panel {
            margin-bottom: 25px;
            padding: 15px;
            background: #f1f1f1;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        #mode-selection, #topic-selection {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        #topic-filter {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
            flex-grow: 1;
        }

        /* Quiz Alanı */
        #quiz-area {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

        #question-number {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
        }

        #question-text {
            font-size: 1.2em;
            margin-bottom: 20px;
            padding: 10px;
            background: #f9f9f9;
            border-radius: 5px;
        }

        .option-box {
            background-color: #eee;
            color: var(--text-color);
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s, box-shadow 0.2s;
            border: 1px solid #ddd;
        }

        .option-box:hover {
            background-color: #e0e0e0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .correct {
            background-color: var(--success-color);
            color: white;
            border-color: var(--success-color);
            font-weight: bold;
        }

        .incorrect {
            background-color: var(--danger-color);
            color: white;
            border-color: var(--danger-color);
            font-weight: bold;
        }

        .correct-answer { /* Yanlış cevap verildiğinde doğru cevabı göstermek için */
            border: 2px solid var(--success-color);
            background-color: #e6f7ee;
            color: var(--success-color);
        }

        /* Butonlar */
        .btn {
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }

        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }

        .btn-primary:hover {
            background-color: #0056b3;
        }

        .btn-secondary:hover {
            background-color: #5a6268;
        }

        .nav-btn {
            padding: 12px 20px;
            font-size: 1em;
        }
        
        #navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            gap: 10px;
        }

        /* Hızlı Erişim / Dot Container */
        #fast-access h3 {
            margin-top: 20px;
            border-top: 1px solid #eee;
            padding-top: 15px;
        }
        #dot-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }

        .dot {
            width: 30px;
            height: 30px;
            background-color: #ccc;
            border-radius: 5px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.9em;
            cursor: pointer;
            transition: background-color 0.1s;
        }

        .dot.current { background-color: var(--primary-color); color: white; }
        .dot.correct { background-color: var(--success-color); color: white; }
        .dot.incorrect { background-color: var(--danger-color); color: white; }

        /* Sonuç Ekranı */
        #result-screen {
            text-align: center;
            padding: 40px;
            border: 2px solid var(--primary-color);
            border-radius: 10px;
            margin-top: 30px;
        }

        #final-score {
            font-size: 3em;
            font-weight: bold;
            color: var(--success-color);
            margin: 10px 0;
        }

        #result-screen button {
            margin: 10px;
        }
        
        .hidden { display: none; }

        /* Otomatik Geç Switch */
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
            margin-bottom: 15px;
        }
        .switch input { display:none; }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            -webkit-transition: .4s;
            transition: .4s;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            -webkit-transition: .4s;
            transition: .4s;
        }
        input:checked + .slider { background-color: var(--success-color); }
        input:focus + .slider { box-shadow: 0 0 1px var(--success-color); }
        input:checked + .slider:before {
            -webkit-transform: translateX(26px);
            -ms-transform: translateX(26px);
            transform: translateX(26px);
        }
        .slider.round { border-radius: 34px; }
        .slider.round:before { border-radius: 50%; }
        #auto-next-label {
             display: flex;
             align-items: center;
             gap: 10px;
             font-weight: bold;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Havacılığa Giriş Quiz Platformu</h1>

        <div id="control-panel">
            <label for="topic-filter">Konu Seçimi:</label>
            <select id="topic-filter"></select>
            
            <div id="mode-selection">
                <button id="restart-all-btn" class="btn btn-primary">Tüm Sorular (Karışık)</button>
                <button id="review-wrong-btn" class="btn btn-secondary hidden">Sadece Yanlışları Tekrar Çöz</button>
            </div>
        </div>

        <div id="quiz-area">
            <div id="auto-next-label">
                 <label class="switch">
                    <input type="checkbox" id="auto-next-switch">
                    <span class="slider round"></span>
                </label>
                <span>Doğruysa Otomatik Geç</span>
            </div>
            
            <div id="question-number">Soru: 1/100</div>
            
            <div id="question-text">Soru metni buraya yüklenecek...</div>
            
            <div id="options-container" class="options-container">
                </div>
            
            <div id="navigation">
                <button id="prev-btn" class="nav-btn btn-secondary">← Önceki</button>
                <button id="next-btn" class="nav-btn btn-primary">Sonraki →</button>
            </div>
        </div>
        
        <div id="fast-access">
            <h3>Hızlı Erişim</h3>
            <div id="dot-container">
                </div>
        </div>

        <div id="result-screen" class="hidden">
            <h2># Test Tamamlandı!</h2>
            <p id="final-score">0/0</p>
            <p id="success-rate">%0</p>
            <p>BAŞARI</p>
            <button id="restart-current-btn" class="btn btn-primary">Bu Testi Yeniden Başlat (Karışık)</button>
            <button id="review-wrong-results-btn" class="btn btn-secondary">Yanlışları Çözümle</button>
        </div>
    </div>
    
    <script>
        // JAVASCRIPT KODLARI BAŞLANGICI
        
        // --- 1. SORU HAVUZU ---
        // PDF ve DOCX dosyalarınızdan oluşturulmuştur.
        const allQuestions = [
            // I. Temel Kavramlar & Ölçüm
            [cite_start]{ q: "Havacılık faaliyetleri kaça ayrılır?", options: ["Üçe", "İkiye", "Dörde", "Beşe"], answer: "İkiye", topic: "Temel Kavramlar" }, // [cite: 1, 3]
            [cite_start]{ q: "Devlet hava araçları nelerdir?", options: ["Askerî, gümrük, polis", "Yolcu, kargo, eğitim", "Tarım, balon, planör", "Helikopter, jet, planör"], answer: "Askerî, gümrük, polis", topic: "Temel Kavramlar" }, // [cite: 8]
            [cite_start]{ q: "Türkiye'nin tescil işareti nedir?", options: ["TR-XXX", "TK-XXX", "TC-XXX", "TL-XXX"], answer: "TC-XXX", topic: "Temel Kavramlar" }, // [cite: 17, 876]
            [cite_start]{ q: "Knot hangi büyüklüğü ölçer?", options: ["Yükseklik", "Basınç", "Hız", "Mesafe"], answer: "Hız", topic: "Temel Kavramlar" }, // [cite: 23, 728]
            [cite_start]{ q: "1 foot kaç metredir?", options: ["0,25", "0,3048", "1,85", "3,048"], answer: "0,3048", topic: "Temel Kavramlar" }, // [cite: 28, 729]
            [cite_start]{ q: "Great Circle Distance neyi ifade eder?", options: ["İki pist arası fark", "İki nokta arası en kısa mesafeyi", "Yatay rüzgâr mesafesini", "En uzun mesafeyi"], answer: "İki nokta arası en kısa mesafeyi", topic: "Temel Kavramlar" }, // [cite: 34, 902]
            [cite_start]{ q: "Mach sayısı nasıl hesaplanır?", options: ["Ağırlık / Hız", "Hız / Ses hızı", "Sıcaklık / Basınç", "Hız / Yükseklik"], answer: "Hız / Ses hızı", topic: "Temel Kavramlar" }, // [cite: 40, 907]
            
            // II. Uluslararası Kuruluşlar & Düzenlemeler
            [cite_start]{ q: "ICAO'nun tam açılımı nedir?", options: ["International Civil Aviation Organization", "International Cargo Air Organization", "Industrial Civil Air Operations", "International Control of Air Operations"], answer: "International Civil Aviation Organization", topic: "Uluslararası Kuruluşlar" }, // [cite: 45, 911]
            [cite_start]{ q: "ICAO'ya göre sivil havacılığın temel amacı nedir?", options: ["Askerî uçuşlar düzenlemek", "Hızlı ama pahalı ulaşım sağlamak", "Emniyetli, ekonomik, çevreye duyarlı ulaşım", "Uçak üretimini artırmak"], answer: "Emniyetli, ekonomik, çevreye duyarlı ulaşım", topic: "Uluslararası Kuruluşlar" }, // [cite: 53, 306]
            [cite_start]{ q: "ICAO Ek-1 (Annex 1) neyi kapsar?", options: ["Havaalanı standartları", "Pilot lisansları", "Hava trafik yönetimi", "Bakım prosedürleri"], answer: "Pilot lisansları", topic: "ICAO Annexler" }, // [cite: 870, 898]
            [cite_start]{ q: "ICAO Ek-14 (Annex 14) neyi kapsar?", options: ["Havaalanı standartları", "Pilot lisansları", "Hava trafik yönetimi", "Bakım prosedürleri"], answer: "Havaalanı standartları", topic: "ICAO Annexler" }, // [cite: 94, 884, 899]
            [cite_start]{ q: "ICAO Ek-17 (Annex 17) hangi konudadır?", options: ["Meteoroloji", "Havaalanı güvenliği", "Arama kurtarma", "Hava trafik yönetimi"], answer: "Havaalanı güvenliği", topic: "ICAO Annexler" }, // [cite: 101, 887, 900]
            [cite_start]{ q: "IATA kodu kaç harflidir?", options: ["2", "3", "4", "5"], answer: "3", topic: "Uluslararası Kuruluşlar" }, // [cite: 107]
            [cite_start]{ q: "ICAO kodu kaç harflidir?", options: ["2", "3", "4", "5"], answer: "4", topic: "Uluslararası Kuruluşlar" }, // [cite: 114]
            [cite_start]{ q: "ICAO Ek-12 (Annex 12) hangi konuyu kapsar?", options: ["Arama Kurtarma", "Güvenlik", "Meteoroloji", "Hava Trafik"], answer: "Arama Kurtarma", topic: "ICAO Annexler" }, // [cite: 238, 882, 899]
            [cite_start]{ q: "ICAO Ek-16 (Annex 16) neyle ilgilidir?", options: ["Gürültü ve emisyon", "Pilot lisansları", "Bakım kuralları", "Havaalanı işletmesi"], answer: "Gürültü ve emisyon", topic: "ICAO Annexler" }, // [cite: 244, 886, 900]
            [cite_start]{ q: "EASA'nın görevi nedir?", options: ["Avrupa hava trafiğini düzenlemek", "AB ülkelerinde havacılık emniyeti ve sertifikasyonu sağlamak", "Uluslararası yolcu taşımak", "Pilot eğitimi vermek"], answer: "AB ülkelerinde havacılık emniyeti ve sertifikasyonu sağlamak", topic: "Uluslararası Kuruluşlar" }, // [cite: 251, 910]
            [cite_start]{ q: "EUROCONTROL'ün amacı nedir?", options: ["Hava kargo taşımacılığı", "Avrupa hava sahasının verimli yönetimi", "Eğitim planlaması", "Hava durumu ölçümü"], answer: "Avrupa hava sahasının verimli yönetimi", topic: "Uluslararası Kuruluşlar" }, // [cite: 257]
            [cite_start]{ q: "ECAC ne yapar?", options: ["Uçak üretir", "Havacılık politikalarını uyumlaştırır", "Pilot lisansı verir", "Uçuş planları yazar"], answer: "Havacılık politikalarını uyumlaştırır", topic: "Uluslararası Kuruluşlar" }, // [cite: 263]
            [cite_start]{ q: "CORSIA ne anlama gelir?", options: ["Karbon denkleştirme ve azaltma sistemi", "Uçuş izin sistemi", "Kontrol alan yönetimi", "Pilot sertifikasyonu"], answer: "Karbon denkleştirme ve azaltma sistemi", topic: "Uluslararası Kuruluşlar" }, // [cite: 269, 973]
            [cite_start]{ q: "Havacılıkta resmi haberleşme dili nedir?", options: ["Fransızca", "İngilizce", "Almanca", "Türkçe"], answer: "İngilizce", topic: "Personel ve İletişim" }, // [cite: 282]
            [cite_start]{ q: "Pilotlar için minimum İngilizce seviyesi nedir?", options: ["ICAO Level 2", "ICAO Level 3", "ICAO Level 4", "ICAO Level 5"], answer: "ICAO Level 4", topic: "Personel ve İletişim" }, // [cite: 295]
            [cite_start]{ q: "Uluslararası sivil havacılık kuruluşlarından olmayan hangisidir?", options: ["EASA", "ECAC", "ENAC", "IATA"], answer: "ENAC", topic: "Uluslararası Kuruluşlar" }, // [cite: 693]
            [cite_start]{ q: "Havacılık Sözleşmelerinden olmayan hangisidir?", options: ["Paris", "Madrid", "Pekin", "Şikago"], answer: "Pekin", topic: "Uluslararası Kuruluşlar" }, // [cite: 797]
            [cite_start]{ q: "Madrid Antlaşması'nın diğer adı nedir?", options: ["Paris Antlaşması", "İber-Amerika Konferansı", "Varşova Konferansı", "Havana Sözleşmesi"], answer: "İber-Amerika Konferansı", topic: "Uluslararası Kuruluşlar" }, // [cite: 634]
            [cite_start]{ q: "Paris Antlaşması'nın tam adı nedir?", options: ["Uluslararası Hava Trafiği Sözleşmesi", "Hava Seyrüseferinin Düzenlenmesine Dair Anlaşma", "Hava Sorumluluklarının Belirlenmesi Anlaşması", "Havacılık Güvenlik Protokolü"], answer: "Hava Seyrüseferinin Düzenlenmesine Dair Anlaşma", topic: "Uluslararası Kuruluşlar" }, // [cite: 787]
            [cite_start]{ q: "ICAO Ek-19 (Annex 19) neyi kapsar?", options: ["Tehlikeli Maddeler", "Güvenlik Yönetimi", "Kolaylıklar", "Hava Haritaları"], answer: "Güvenlik Yönetimi", topic: "ICAO Annexler" }, // [cite: 889, 900]
            [cite_start]{ q: "ICAO Ek-7 (Annex 7) neyi kapsar?", options: ["Personel Lisansları", "Uçak İşletilmesi", "Uçak Milliyet ve Tescil İşaretleri", "Hava Kuralları"], answer: "Uçak Milliyet ve Tescil İşaretleri", topic: "ICAO Annexler" }, // [cite: 876, 898]
            [cite_start]{ q: "ICAO Ek-8 (Annex 8) neyi kapsar?", options: ["Havaalanları", "Arama ve Kurtarma", "Uçağın Uçuşa Elverişliliği", "Havacılık Telekomünikasyon"], answer: "Uçağın Uçuşa Elverişliliği", topic: "ICAO Annexler" }, // [cite: 878, 898]
            
            // III. Hava Aracı & Uçuşa Elverişlilik
            [cite_start]{ q: "Uçuşa elverişlilik ne anlama gelir?", options: ["Uçağın motor gücü yüksekse", "Uçağın emniyetli uçabilme şartlarını sağlaması", "Yük taşıma kapasitesinin fazla olması", "Eğitim uygunluğu"], answer: "Uçağın emniyetli uçabilme şartlarını sağlaması", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 58]
            [cite_start]{ q: "Tip Sertifikası nedir?", options: ["Uçuş planı", "Tasarım uygunluğu belgesi", "Yolcu kapasitesi raporu", "Lisans belgesi"], answer: "Tasarım uygunluğu belgesi", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 65]
            [cite_start]{ q: "Tip Yetkisini (Sertifikasını) uçağa neresi verir?", options: ["Tescil Eden Ülke", "Üretildiği Ülke", "Hava Yolu İşletmesi", "ICAO"], answer: "Üretildiği Ülke", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 721]
            [cite_start]{ q: "SYK'nin açılımı nedir?", options: ["Sivil Yönetim Kurulu", "Sürekli Uçuşa Elverişlilik Yönetimi Kuruluşu", "Sistem Yetki Kurumu", "Saha Yetki Komisyonu"], answer: "Sürekli Uçuşa Elverişlilik Yönetimi Kuruluşu", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 71, 377]
            [cite_start]{ q: "AMP nedir?", options: ["Aircraft Maintenance Plan", "Airport Management Program", "Aviation Main Policy", "Air Monitoring Plan"], answer: "Aircraft Maintenance Plan", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 76, 382]
            [cite_start]{ q: "CRS belgesi neyi ifade eder?", options: ["Hava trafiği yoğunluğu", "Bakım sonrası uçağın uçuşa hazır olduğunu", "Uçuş plan değişikliğini", "Pilot yetki seviyesini"], answer: "Bakım sonrası uçağın uçuşa hazır olduğunu", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 83, 390]
            [cite_start]{ q: "Sürekli Uçuşa Elverişlilik Sertifikasını kim verir?", options: ["Üretildiği Ülke", "Hava aracını Tescil Eden Ülke", "Bakım Kuruluşu", "EASA/FAA"], answer: "Hava aracını Tescil Eden Ülke", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 723]
            [cite_start]{ q: "Uçağın üretilen parçalarının üretiminden sonra uygunluğu kimin sorumluluğundadır?", options: ["Tescil Eden Ülke", "Üretildiği Ülke", "Bakım Kuruluşu", "Operatör"], answer: "Üretildiği ülke", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 725]
            [cite_start]{ q: "Bakımın Yapıldığı Yere Göre Bakım türleri nelerdir?", options: ["Önleyici, Düzeltici", "Hat, Üs", "Ağır, Hafif", "Periyodik, Arıza"], answer: "Hat Bakımı, Üs Bakımı", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 621, 980]
            [cite_start]{ q: "Uçuş devam ederken yapılan bakım türü nedir?", options: ["Üs Bakımı", "Düzeltici Bakım", "Hat Bakımı", "Önleyici Bakım"], answer: "HAT bakımı", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 852]
            [cite_start]{ q: "Yapılış Amacına Göre Bakımlar Nedir?", options: ["Hat Bakımı / Üs Bakımı", "Önleyici Bakım / Düzeltici Bakım", "Check A / Check C", "Planlı / Plansız Bakım"], answer: "Önleyici Bakım / Düzenleyici Bakım", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 795, 979]
            [cite_start]{ q: "Havadan hafif hava araçları nelerdir?", options: ["Planör ve Zeplin", "Balon ve Zeplin", "Helikopter ve Zeplin", "Balon ve Planör"], answer: "Balon ve Zeplin", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 619]
            [cite_start]{ q: "Hava taksi işletmeciliği maksimum koltuk sayısı kaçtır?", options: ["50", "30", "19", "10"], answer: "19", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 635, 951]
            [cite_start]{ q: "Döner kanatlı hava araçlarında kullanılan motor tipi nedir?", options: ["Turbojet", "Turboprop", "Turboşaft", "Turbofan"], answer: "Turboşaft", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 868]
            [cite_start]{ q: "Döner kanatlı hava araçları nedir?", options: ["Balon, Zeplin", "Planör, Gyroplane", "Helikopter, Gyroplane", "Savaş Uçağı, Jet"], answer: "Gyroplane, Helikopter", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 866]
            [cite_start]{ q: "Serbest uçuş yapabilen ve havadan ağır olan motorsuz hava aracı hangisidir?", options: ["Balon", "Zeplin", "Planör", "Helikopter"], answer: "Planör", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 947]
            
            // IV. Havaalanı & Yer Hizmetleri
            [cite_start]{ q: "Hava tarafı hangi bölümü kapsar?", options: ["Terminal binası", "Pist, apron, taksi yolu", "Otopark", "Bagaj teslim alanı"], answer: "Pist, apron, taksi yolu", topic: "Havaalanı ve Yer Hizmetleri" }, // [cite: 89, 396, 966]
            [cite_start]{ q: "Check-in işlemi neyi kapsar?", options: ["Güvenlik kontrolü", "Bagaj teslimi ve biniş kartı alma", "Uçağa binme", "Pasaport işlemi"], answer: "Bagaj teslimi ve biniş kartı alma", topic: "Havaalanı ve Yer Hizmetleri" }, // [cite: 119, 426, 719]
            [cite_start]{ q: "Kara Tarafı hangi bölümü kapsar?", options: ["Pistler ve Taksi Yolları", "Apronlar", "Terminal Binaları ve Otopark", "Kontrol Kulesi"], answer: "Terminal Binaları ve Otopark", topic: "Havaalanı ve Yer Hizmetleri" }, // [cite: 967]
            [cite_start]{ q: "PAT sahaları hangi alanlardan oluşur?", options: ["Park, Apron, Terminal", "Pist, Apron, Taksi Yolu", "Pasaport, Apron, Terminal", "Personel, Araç, Terminal"], answer: "Pist, Apron Taksi yolu", topic: "Havaalanı ve Yer Hizmetleri" }, // [cite: 962]
            [cite_start]{ q: "Yolcunun uçağa binişine kadar verilen hizmet nedir?", options: ["Boarding", "Check-In", "Ramp Hizmeti", "Bagaj Kontrolü"], answer: "Check-In", topic: "Havaalanı ve Yer Hizmetleri" }, // [cite: 719]
            [cite_start]{ q: "Havaalanı yer hizmet faaliyetlerinden hangisi rampa hizmetlerini kapsar?", options: ["Yolcu Hizmetleri", "Kargo", "Uçak Hat Bakım", "Ulaşım"], answer: "Kargo", topic: "Havaalanı ve Yer Hizmetleri" }, // Not: Kargo ve ramp hizmetleri birbiriyle ilişkilidir. [cite: 964]
            [cite_start]{ q: "Havaalanı tesis bütünlüğünü oluşturan parçalardan BİNANIN parçası olmayan hangisidir?", options: ["Pist", "Yer Hizmet Kuruluşları", "Ticari İşletmeler", "Devlet Kurumları"], answer: "Pist", topic: "Havaalanı ve Yer Hizmetleri" }, // [cite: 712]
            [cite_start]{ q: "Hava taşımacılık işletmesi olmayan hangisidir?", options: ["Havayolu İşletmesi", "Hava Taksi İşletmesi", "Genel Havacılık İşletmesi", "Kargo İşletmesi"], answer: "Genel Havacılık İşletmesi", topic: "Havaalanı ve Yer Hizmetleri" }, // [cite: 789]
            [cite_start]{ q: "Havacılık dışı hizmetlerden hangisi yanlıştır?", options: ["Yiyecek ve içecek hizmetleri", "Reklam", "Uçuş planlama", "Otopark hizmetleri"], answer: "Uçuş planlama", topic: "Havaalanı ve Yer Hizmetleri" }, // [cite: 806, 814]
            [cite_start]{ q: "Hizmet tipine göre havaalanlarından yanlış olan hangisidir?", options: ["Büyük ölçekli havaalanları", "Ticari Hizmet Havaalanları", "Gayri Resmi Havaalanı", "Genel Havacılık Havaalanları"], answer: "Gayri Resmi Havaalanı", topic: "Havaalanı ve Yer Hizmetleri" }, // [cite: 624]

            // V. Hava Trafik Yönetimi (ATM/ANS)
            [cite_start]{ q: "CNS açılımı nedir?", options: ["Communication, Navigation, Surveillance", "Control, Navigation, System", "Civil Navigation Standards", "Cargo Network System"], answer: "Communication, Navigation, Surveillance", topic: "Hava Trafik Yönetimi" }, // [cite: 175]
            [cite_start]{ q: "ILS sistemi ne işe yarar?", options: ["Yük taşımak", "Aletli iniş için yönlendirme", "Uçuş planı oluşturmak", "Hız ölçmek"], answer: "Aletli iniş için yönlendirme", topic: "Hava Trafik Yönetimi" }, // [cite: 182]
            [cite_start]{ q: "VOR sistemi ne sağlar?", options: ["Yükseklik bilgisi", "Yön belirleme", "Hava durumu", "Mesafe ölçümü"], answer: "Yön belirleme", topic: "Hava Trafik Yönetimi" }, // [cite: 188]
            [cite_start]{ q: "DME ne ölçer?", options: ["Basınç", "Uzaklık", "Yön", "İrtifa"], answer: "Uzaklık", topic: "Hava Trafik Yönetimi" }, // [cite: 194]
            [cite_start]{ q: "GNSS sistemi nedir?", options: ["Uydu tabanlı seyrüsefer sistemi", "Radar sistemi", "Hava tahmin aracı", "Uçuş planlama programı"], answer: "Uydu tabanlı seyrüsefer sistemi", topic: "Hava Trafik Yönetimi" }, // [cite: 199]
            [cite_start]{ q: "SAR nedir?", options: ["Search and Rescue", "Safety and Regulation", "System Air Report", "Security Area Radar"], answer: "Search and Rescue", topic: "Hava Trafik Yönetimi" }, // [cite: 205, 511]
            [cite_start]{ q: "ATM nedir?", options: ["Air Traffic Management", "Aviation Transport Market", "Aircraft Training Manual", "Air Terminal Maintenance"], answer: "Air Traffic Management", topic: "Hava Trafik Yönetimi" }, // [cite: 211, 517]
            [cite_start]{ q: "Meydan kontrolü hangi alanı yönetir?", options: ["Havalimanı çevresi", "Terminal binası", "Apron dışı bölge", "Pist dışı yollar"], answer: "Havalimanı çevresi", topic: "Hava Trafik Yönetimi" }, // [cite: 217, 523]
            [cite_start]{ q: "Yaklaşma kontrolü hangi aşamada çalışır?", options: ["Uçuş ortasında", "Kalkış ve iniş sırasında", "Bakım sürecinde", "Uçak parkında"], answer: "Kalkış ve iniş sırasında", topic: "Hava Trafik Yönetimi" }, // [cite: 227, 534]
            [cite_start]{ q: "Saha kontrolü hangi uçuşları yönetir?", options: ["Taksi uçuşları", "Seyir uçuşları", "Kısa mesafeli", "Charter seferleri"], answer: "Seyir uçuşları", topic: "Hava Trafik Yönetimi" }, // [cite: 233, 540]
            [cite_start]{ q: "Hava Trafik Kontrol Hizmetleri nelerdir?", options: ["İkaz, Meteoroloji, Uçuş Bilgi", "Saha, Yaklaşma, Meydan Kontrol", "Haberleşme, Navigasyon, Gözetim", "Hava Sahası Yönetimi, Hava Trafik Akış Yönetimi"], answer: "Saha, Yaklaşma, Meydan Kontrol", topic: "Hava Trafik Yönetimi" }, // [cite: 648]
            [cite_start]{ q: "Hava Trafik kontrolü uçakların nelerini değiştirebilir?", options: ["Uçuş Planı, Yolcu Sayısı, Yük Miktarı", "Uçuş Başı, Uçuş Hızı, Uçuş İrtifası", "Kabin Basıncı, Yakıt Miktarı, Motor Gücü", "Tescil İşareti, Lisans Tipi, Bakım Kaydı"], answer: "Uçuş Başı, Uçuş Hızı, Uçuş İrtifası", topic: "Hava Trafik Yönetimi" }, // [cite: 646]
            [cite_start]{ q: "Uyarı Hizmetleri hangi uçaklara verilir?", options: ["Sadece askeri uçaklara", "Sadece kargo uçaklarına", "Hava trafik kontrol hizmeti sağlanan tüm uçaklara", "Sadece tarifesiz uçuşlara"], answer: "Hava trafik kontrol hizmeti sağlanan tüm uçaklara", topic: "Hava Trafik Yönetimi" }, // [cite: 769]
            [cite_start]{ q: "Bir uçağın hareket etmeye başladığı (kalkış) iniş yerine varıp park edinceye kadar geçen süre?", options: ["Uçuş Saati", "Blok Saat", "Taksi Süresi", "Kapıdan Kapıya Süre"], answer: "Blok Saat", topic: "Hava Trafik Yönetimi" }, // [cite: 715]
            [cite_start]{ q: "Stratejik Akış Yönetimi kaç gün önce başlar?", options: ["Uçuş günü", "1 gün önce", "6 gün önce", "7 gün ve daha önce"], answer: "7 gün ve daha önce", topic: "Hava Trafik Yönetimi" }, // [cite: 792]
            [cite_start]{ q: "Hava Trafik Emniyeti Elektronik Personeli (ATSEP) görevi nedir?", options: ["Uçuş planlaması yapmak", "Uçakların emniyetli uçuş şartlarını sağlamak", "CNS sistemlerinin kurulum, işletme ve bakımından sorumlu olmak", "Yolcu emniyetini sağlamak"], answer: "CNS sistemlerinin kurulum, işletme ve bakımından sorumlu olmak", topic: "Personel ve İletişim" }, // [cite: 857, 918]
            [cite_start]{ q: "Havacılık Telsiz Frekans Aralığı nedir?", options: ["88.000 - 108.000 MHz", "100.000 - 118.000 MHz", "118.000 - 137.000 MHz", "140.000 - 160.000 MHz"], answer: "118.000 - 137.000 MHz", topic: "Hava Trafik Yönetimi" }, // [cite: 854]

            // VI. Havayolu İş Modelleri
            [cite_start]{ q: "THAT hangi modeldir?", options: ["Düşük maliyetli taşıyıcı", "Tam hizmet ağı taşıyıcısı", "Özel sefer taşıyıcısı", "Bölgesel taşıyıcı"], answer: "Tam hizmet ağı taşıyıcısı", topic: "Havayolu İş Modelleri" }, // [cite: 144, 451, 835, 953]
            [cite_start]{ q: "DMT hangi modeldir?", options: ["Düşük maliyetli taşıyıcı", "Tam hizmet ağı taşıyıcısı", "Bölgesel taşıyıcı", "Özel sefer"], answer: "Düşük maliyetli taşıyıcı", topic: "Havayolu İş Modelleri" }, // [cite: 149, 456, 836, 958]
            [cite_start]{ q: "Charter uçuş nedir?", options: ["Tarifeli", "Tarifesiz özel uçuş", "Devlet uçuşu", "Eğitim uçuşu"], answer: "Tarifesiz özel uçuş", topic: "Havayolu İş Modelleri" }, // [cite: 157, 463]
            [cite_start]{ q: "Bölgesel taşıyıcılar hangi uçaklarla çalışır?", options: ["Geniş gövdeli jetler", "Küçük jet ve turboprop", "Savaş uçakları", "Planörler"], answer: "Küçük jet ve turboprop", topic: "Havayolu İş Modelleri" }, // [cite: 164, 470]
            [cite_start]{ q: "Hibrit taşıyıcı nedir?", options: ["Charter + THAT", "THAT + DMT özelliklerini birleştirir", "DMT + BT birleşimi", "Kargo odaklıdır"], answer: "THAT + DMT özelliklerini birleştirir", topic: "Havayolu İş Modelleri" }, // [cite: 170, 476, 839]
            [cite_start]{ q: "Kapasite farklılıklarına göre Ana Hat uçakları yolcu kapasitesi kaçın üzerindedir?", options: ["50", "100", "150", "200"], answer: "100", topic: "Havayolu İş Modelleri" }, // [cite: 865, 944]
            [cite_start]{ q: "Havayolu İşletmeciliği tescil belgesinde hangisi yer almaz?", options: ["İşleticinin adı", "Kullanılacak uçak tipleri", "Uçak Sigorta Bedeli", "İşletme şartları"], answer: "Uçak Sigorta Bedeli", topic: "Havayolu İş Modelleri" }, // [cite: 637]
            [cite_start]{ q: "Havayolu iş modellerinden olmayan hangisidir?", options: ["Tam Hizmet Ağı Taşıyıcıları", "Düşük Maliyetli Taşıyıcılar", "Servis", "Karma Taşıyıcılar"], answer: "Servis", topic: "Havayolu İş Modelleri" }, // [cite: 833, 835]
            
            // VII. Personel ve İletişim
            [cite_start]{ q: "CBTA neyi ifade eder?", options: ["Competency-Based Training and Assessment", "Cargo-Based Transport Agreement", "Civil Business Training Area", "Communication-Based Traffic Agreement"], answer: "Competency-Based Training and Assessment", topic: "Personel ve İletişim" }, // [cite: 275, 582, 927]
            [cite_start]{ q: "Phraseology neden kullanılır?", options: ["Zaman kazanmak", "Yanlış anlamaları önlemek", "Eğitim süresini kısaltmak", "Şifreli iletişim sağlamak"], answer: "Yanlış anlamaları önlemek", topic: "Personel ve İletişim" }, // [cite: 288, 595]
            [cite_start]{ q: "LAPL ve ATPL farkı nedir?", options: ["LAPL en yüksek, ATPL en düşük", "LAPL hafif, ATPL havayolu pilot lisansıdır", "Aynıdır", "ATPL planör içindir"], answer: "LAPL hafif, ATPL havayolu pilot lisansıdır", topic: "Personel ve İletişim" }, // [cite: 300]
            [cite_start]{ q: "Kabin memurlarının asıl görevi nedir?", options: ["Yolcuya yiyecek servisi yapmak", "Pilotun talimatlarını yerine getirmek", "Uçak personeli olmak", "Yolcu emniyetini sağlamak"], answer: "Yolcu emniyetini sağlamaktır", topic: "Personel ve İletişim" }, // [cite: 922]
            [cite_start]{ q: "Uçuş Harekat Uzmanının temel görevi nedir?", options: ["Hava aracının bakımını yapmak", "Yolcu biletlerini kontrol etmek", "Uçuşu planlamak ve uçuş süresince izlemek", "Hava trafik kontrolü yapmak"], answer: "Uçuşu planlamak ve uçuş süresince izlemek", topic: "Personel ve İletişim" }, // [cite: 860, 916]
            [cite_start]{ q: "Bakımcıların lisansları hangi şıkta doğru yazılmıştır?", options: ["A, B1, B2, B2L, B3, L, C", "PPL, CPL, ATPL", "LAPL, BPL, SPL", "ATSEP, ATC, FSO"], answer: "A, B1, B2, B2L, B3, L, C", topic: "Personel ve İletişim" }, // [cite: 633]
            [cite_start]{ q: "Hafif Hava Aracı ve Hususi Pilot Lisansları arasında olmayan hangisidir?", options: ["BPL", "LAPL", "ATPL", "PPL"], answer: "ATPL", topic: "Personel ve İletişim" }, // [cite: 761, 759]
            [cite_start]{ q: "Hava Trafik Kontrolü Görev Pozisyonları arasında olmayan hangisidir?", options: ["Kule Çalışma Pozisyonu", "Yer Çalışma Pozisyonu", "Müsaade Dağıtım Çalışma Pozisyonu", "Saha Kontrol Pozisyonu"], answer: "Saha Kontrol Pozisyonu", topic: "Personel ve İletişim" }, // [cite: 764]
            [cite_start]{ q: "Yetkinlik Bazlı Eğitim Yaklaşımı (CBTA) ilkelerinden hangisi yanlıştır?", options: ["Eğitim belirlenen yetkinliklere göre şekillendirilir.", "Öğrenme çıktısı yerine eğitim süresi esas alınır.", "Gerçekçi eğitim senaryoları kullanılır.", "Performansa dayalı değerlendirme yapılır."], answer: "Öğrenme çıktısı yerine eğitim süresi esas alınır.", topic: "Personel ve İletişim" }, // [cite: 829, 931]
            [cite_start]{ q: "Havacılık eğitimi veren yerler nelerdir?", options: ["Sadece Meslek Edindirme Kursları", "Sadece Üniversiteler", "Meslek edindirme kursları, Okul eğitimi, Hizmet içi eğitim", "Sadece Havayolu Şirketleri"], answer: "Meslek edindirme kursları, Okul eğitimi, Hizmet içi eğitim", topic: "Personel ve İletişim" }, // [cite: 924]
            [cite_start]{ q: "Uçağın dengesini sağlayan ana eleman hangisidir?", options: ["Motorlar", "Kanatlar", "Gövde", "Kuyruk"], answer: "Kuyruk", topic: "Uçuşa Elverişlilik ve Bakım" }, // [cite: 936]

            // VIII. Ekonomi & Verimlilik
            [cite_start]{ q: "ASK nedir?", options: ["Arz Edilen Koltuk-Km", "Arz Edilen Kargo-Km", "Ortalama Hız", "Aylık Sefer Kapasitesi"], answer: "Arz Edilen Koltuk-Km", topic: "Ekonomi ve Verimlilik" }, // [cite: 124, 431]
            [cite_start]{ q: "RPK nedir?", options: ["Arz Edilen Kargo-Km", "Ücretli Yolcu-Km", "Ortalama Sefer Uzunluğu", "Kargo Doluluk Oranı"], answer: "Ücretli Yolcu-Km", topic: "Ekonomi ve Verimlilik" }, // [cite: 131, 438]
            [cite_start]{ q: "Doluluk oranı nasıl hesaplanır?", options: ["ASK / RPK", "RPK / ASK", "ASK x RPK", "ASK + RPK"], answer: "RPK / ASK", topic: "Ekonomi ve Verimlilik" }, // [cite: 137, 444]
        ];

        // Global Değişkenler ve DOM Elementleri
        let currentQuestions = [];
        let questionIndex = 0;
        let answers = {};
        let reviewMode = false;
        
        const $quizArea = document.getElementById('quiz-area');
        const $resultScreen = document.getElementById('result-screen');
        const $questionNumber = document.getElementById('question-number');
        const $questionText = document.getElementById('question-text');
        const $optionsContainer = document.getElementById('options-container');
        const $dotContainer = document.getElementById('dot-container');
        const $prevBtn = document.getElementById('prev-btn');
        const $nextBtn = document.getElementById('next-btn');
        const $restartAllBtn = document.getElementById('restart-all-btn');
        const $restartCurrentBtn = document.getElementById('restart-current-btn');
        const $reviewWrongBtn = document.getElementById('review-wrong-btn');
        const $reviewWrongResultsBtn = document.getElementById('review-wrong-results-btn');
        const $topicFilter = document.getElementById('topic-filter');
        const $autoNextSwitch = document.getElementById('auto-next-switch');
        
        // --- 2. FONKSİYONLAR ---

        // Karıştırma Fonksiyonu (Fisher-Yates)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // Testi Başlatma ve Soruları Hazırlama
        function initializeQuiz(filterTopic = 'all', shuffle = true) {
            $quizArea.classList.remove('hidden');
            $resultScreen.classList.add('hidden');
            
            // Soruları filtrele
            currentQuestions = allQuestions.filter(q => filterTopic === 'all' || q.topic === filterTopic);
            
            // İstenirse karıştır
            if (shuffle) {
                shuffleArray(currentQuestions);
            }

            // Cevapları ve durumu sıfırla
            answers = {};
            questionIndex = 0;
            reviewMode = false;
            $reviewWrongBtn.classList.add('hidden');
            
            // Tüm sorular için boş cevap dizisini oluştur (doğru/yanlış takibi için)
            currentQuestions.forEach((q, index) => {
                answers[index] = { selected: null, correct: q.answer, isCorrect: null };
            });

            renderQuiz();
        }

        // Quiz'i Ekrana Çizme (Soru ve Seçenekler)
        function renderQuiz() {
            if (currentQuestions.length === 0) {
                $questionText.textContent = "Seçilen konuda soru bulunmamaktadır.";
                $optionsContainer.innerHTML = '';
                $questionNumber.textContent = "Soru: 0/0";
                $navigation.classList.add('hidden');
                $dotContainer.innerHTML = '';
                return;
            }
            
            $navigation.classList.remove('hidden');

            const q = currentQuestions[questionIndex];
            const currentAnswer = answers[questionIndex];
            
            $questionNumber.textContent = `Soru: ${questionIndex + 1}/${currentQuestions.length}`;
            $questionText.textContent = `${q.q} (${q.topic})`; // Konuyu soru yanında göster
            $optionsContainer.innerHTML = '';

            // Seçenekleri rastgele karıştır (her seferinde aynı sırayla gelmemesi için)
            let options = [...q.options];
            if (!reviewMode) {
                 shuffleArray(options);
            }
            
            options.forEach(option => {
                const optionBox = document.createElement('div');
                optionBox.className = 'option-box';
                optionBox.textContent = option;
                optionBox.dataset.value = option;

                // Cevap kontrolü ve stil uygulama
                if (currentAnswer.selected) {
                    // Review mode veya cevaplanmışsa
                    if (option === q.answer) {
                        optionBox.classList.add('correct-answer'); // Doğru cevabı her zaman yeşil çerçevele
                    }
                    if (option === currentAnswer.selected) {
                        optionBox.classList.remove('correct-answer'); // Eğer seçilen yanlışsa, yeşil çerçeveyi kaldır
                        optionBox.classList.add(currentAnswer.isCorrect ? 'correct' : 'incorrect');
                    }
                    optionBox.style.pointerEvents = 'none'; // Cevaplandıktan sonra tıklamayı engelle
                } else {
                    // Cevaplanmamışsa sadece tıklama event'i ekle
                    optionBox.addEventListener('click', () => handleAnswer(option));
                }

                $optionsContainer.appendChild(optionBox);
            });

            updateNavigationButtons();
            renderDots();
        }
        
        // Dotları (Hızlı Erişim) Oluşturma ve Güncelleme
        function renderDots() {
            $dotContainer.innerHTML = '';
            currentQuestions.forEach((q, index) => {
                const dot = document.createElement('div');
                dot.className = 'dot';
                dot.textContent = index + 1;
                
                const answerStatus = answers[index];
                
                if (index === questionIndex) {
                    dot.classList.add('current');
                } else if (answerStatus.isCorrect === true) {
                    dot.classList.add('correct');
                } else if (answerStatus.isCorrect === false) {
                    dot.classList.add('incorrect');
                }
                
                dot.addEventListener('click', () => {
                    questionIndex = index;
                    renderQuiz();
                });
                $dotContainer.appendChild(dot);
            });
        }

        // Cevap İşlemi
        function handleAnswer(selectedOption) {
            const q = currentQuestions[questionIndex];
            const isCorrect = selectedOption === q.answer;
            
            answers[questionIndex].selected = selectedOption;
            answers[questionIndex].isCorrect = isCorrect;
            
            // Seçenek kutularını güncelle ve tıklamayı engelle
            const optionBoxes = $optionsContainer.querySelectorAll('.option-box');
            optionBoxes.forEach(box => {
                if (box.dataset.value === q.answer) {
                    box.classList.add('correct-answer'); // Doğru cevabı yeşil çerçevele
                }
                if (box.dataset.value === selectedOption) {
                    box.classList.remove('correct-answer'); // Eğer seçilen yanlışsa, yeşil çerçeveyi kaldır
                    box.classList.add(isCorrect ? 'correct' : 'incorrect');
                }
                box.style.pointerEvents = 'none';
            });
            
            // Dotları güncelle
            renderDots();

            // Otomatik Geç aktifse ve doğruysa sonraki soruya geç
            if (isCorrect && $autoNextSwitch.checked) {
                setTimeout(() => goToNextQuestion(), 500);
            }
        }
        
        // Navigasyon Butonlarını Güncelle
        function updateNavigationButtons() {
            $prevBtn.disabled = questionIndex === 0;
            
            if (questionIndex === currentQuestions.length - 1) {
                $nextBtn.textContent = reviewMode ? "Testi Bitir (Sonuç)" : "Testi Bitir";
            } else {
                $nextBtn.textContent = "Sonraki →";
            }
        }

        // Sonraki Soruya Geç
        function goToNextQuestion() {
            if (questionIndex < currentQuestions.length - 1) {
                questionIndex++;
                renderQuiz();
            } else {
                showResults();
            }
        }

        // Sonuçları Göster
        function showResults() {
            $quizArea.classList.add('hidden');
            $dotContainer.innerHTML = '';
            $resultScreen.classList.remove('hidden');

            let correctCount = Object.values(answers).filter(a => a.isCorrect === true).length;
            let totalCount = currentQuestions.length;
            let successRate = totalCount > 0 ? ((correctCount / totalCount) * 100).toFixed(1) : 0;
            
            document.getElementById('final-score').textContent = `${correctCount} / ${totalCount}`;
            document.getElementById('success-rate').textContent = `%${successRate}`;
            
            // Yanlışları çözme butonu sadece yanlış varsa aktif olsun
            const wrongCount = totalCount - correctCount;
            if (wrongCount > 0) {
                $reviewWrongResultsBtn.classList.remove('hidden');
                $reviewWrongResultsBtn.textContent = `Yanlışları Tekrar Çöz (${wrongCount} Soru)`;
            } else {
                 $reviewWrongResultsBtn.classList.add('hidden');
            }
            
            // Mevcut filtreleme ayarlarını tekrar başlat butonuna aktar
            $restartCurrentBtn.dataset.topic = $topicFilter.value;
        }
        
        // --- 3. EVENT LISTENERS ---

        // Konu Filtrelemesini Doldurma
        function populateTopicFilter() {
            const topics = [...new Set(allQuestions.map(q => q.topic))];
            
            let html = '<option value="all">Tüm Konular (Karışık)</option>';
            topics.forEach(topic => {
                html += `<option value="${topic}">${topic}</option>`;
            });
            $topicFilter.innerHTML = html;
        }
        
        // Başlangıç ve Filtreleme Olayları
        document.addEventListener('DOMContentLoaded', () => {
            populateTopicFilter();
            initializeQuiz('all', true); // Sayfa açıldığında tüm konuları karışık başlat
        });

        $topicFilter.addEventListener('change', (e) => {
             // Konuya göre seçildiğinde karışık başlat
            initializeQuiz(e.target.value, true); 
        });

        $prevBtn.addEventListener('click', () => {
            if (questionIndex > 0) {
                questionIndex--;
                renderQuiz();
            }
        });

        $nextBtn.addEventListener('click', goToNextQuestion);
        
        $restartAllBtn.addEventListener('click', () => {
             // Karışık çözme butonu: Mevcut konuya göre veya tüm konuları karışık başlat
            initializeQuiz($topicFilter.value, true); 
        });

        $restartCurrentBtn.addEventListener('click', (e) => {
            // Sonuç ekranındaki tekrar başlat butonu
            initializeQuiz(e.target.dataset.topic, true);
        });

        // Yanlışları Tekrar Çözme İşlemi
        $reviewWrongResultsBtn.addEventListener('click', () => {
            // Yanlış cevaplanan soruları filtrele
            const wrongIndexes = Object.keys(answers).filter(index => answers[index].isCorrect === false);
            
            // Yanlış sorulardan oluşan yeni bir currentQuestions dizisi oluştur
            currentQuestions = wrongIndexes.map(index => currentQuestions[index]);
            
            // Yeni test için durumu sıfırla ve başlat
            answers = {};
            currentQuestions.forEach((q, index) => {
                answers[index] = { selected: null, correct: q.answer, isCorrect: null };
            });
            
            questionIndex = 0;
            reviewMode = true; // Review modunu aç
            $restartCurrentBtn.dataset.topic = 'Yanlışlar'; // Tekrar başlat butonu için etiket
            
            renderQuiz();
            $resultScreen.classList.add('hidden');
            $quizArea.classList.remove('hidden');
        });

        // JAVASCRIPT KODLARI SONU
    </script>
</body>
</html>
